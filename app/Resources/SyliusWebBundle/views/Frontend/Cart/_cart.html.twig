{% set taxAdjustment = constant('Sylius\\Component\\Core\\Model\\AdjustmentInterface::TAX_ADJUSTMENT') %}
{% set orderItemPromotionAdjustment = constant('Sylius\\Component\\Core\\Model\\AdjustmentInterface::ORDER_ITEM_PROMOTION_ADJUSTMENT') %}

<div class="table-responsive">
    <table class="table" id="cart-summary">
        <thead>
            <tr>
                <th colspan="3">{{ 'sylius.ui.product'|trans }}</th>
                <th>{{ 'sylius.cart.summary.quantity'|trans }}</th>
                <th>{{ 'sylius.ui.unit_price'|trans }}</th>
                <th colspan="2">{{ 'sylius.ui.total'|trans }}</th>
            </tr>
        </thead>
        <tbody>
            {% for item in form.items %}
                {% include 'SyliusWebBundle:Frontend/Cart:_item.html.twig' %}
            {% endfor %}
        </tbody>
        <tfoot>
            <tr>
                <th colspan="5">{{ 'sylius.ui.total'|trans }}</th>
                {% set cartTotal = cart.itemsTotal - cart.getAdjustmentsTotalRecursively(taxAdjustment) - cart.getAdjustmentsTotalRecursively(orderItemPromotionAdjustment) %}
                <th colspan="2">{{ (cartTotal)|sylius_price }}</th>
            </tr>
            <tr>
                <th colspan="7"><button class="btn btn-default pull-right"><i class="fa fa-refresh"></i>{{ 'app.ui.update_cart'|trans }}</button></th>
            </tr>
            <tr>
                <td colspan="1">{{ form_label(form.additionalInformation, null, {'label_attr': {'class': 'text-muted pull-left'}}) }}</td>
                <td colspan="6">
                    {{ form_widget(form.additionalInformation) }}
                </td>
            </tr>
        </tfoot>
    </table>
</div>
